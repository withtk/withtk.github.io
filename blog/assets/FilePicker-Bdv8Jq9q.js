import{u as Ve,a as Ae,Q as $e}from "./QChip-DFmeZ0rp.js";import{m as Ce,g as _,n as te,p as O,i as d,l as N,q as ze,s as Te,u as De,v as le,x as Ee,y as Fe,z as de,A as Ie,B as xe,C as Pe,j as v,D as H,E as ve,G as qe,k as K,T as we,H as je,I as Ne,h as ke,J as ee,d as fe,c as L,a as I,b as W,Q as Be,K as Re,F as re,f as ae,L as Oe,o as j,t as Le}from "./index-BoJ1F8L8.js";import{u as Ue}from "./index-_sH3syV9.js";let oe,G=0;const B=new Array(256);for(let e=0; e<256; e++)B[e]=(e+256).toString(16).substring(1);const Me=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let n=t; n>0; n--)l.push(Math.floor(Math.random()*256));return l}})(),me=4096;function ue(){(oe===void 0||G+16>me)&&(G=0,oe=Me(me));const e=Array.prototype.slice.call(oe,G,G+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,B[e[0]]+B[e[1]]+B[e[2]]+B[e[3]]+"-"+B[e[4]]+B[e[5]]+"-"+B[e[6]]+B[e[7]]+"-"+B[e[8]]+B[e[9]]+"-"+B[e[10]]+B[e[11]]+B[e[12]]+B[e[13]]+B[e[14]]+B[e[15]]}function Qe(e){return e??null}function ge(e, t){return e??(t===!0?`f_${ue()}`:null)}function He({getValue:e,required:t=!0}={}){if(Ce.value===!0){const l=e!==void 0?_(Qe(e())):_(null);return t===!0&&l.value===null&&te(()=>{l.value=`f_${ue()}`}),e!==void 0&&O(e, n=>{l.value=ge(n,t)}),l}return e!==void 0?d(()=>ge(e(),t)):_(`f_${ue()}`)}const pe=/^on[A-Z]/;function Ke(){const{attrs:e,vnode:t}=N(),l={listeners:_({}),attributes:_({})};function n(){const u={},r={};for(const i in e)i!=="class"&&i!=="style"&&pe.test(i)===!1&&(u[i]=e[i]);for(const i in t.props)pe.test(i)===!0&&(r[i]=t.props[i]);l.attributes.value=u,l.listeners.value=r}return ze(n),n(),l}function We({validate:e,resetValidation:t,requiresQForm:l}){const n=Te(De,!1);if(n!==!1){const{props:u,proxy:r}=N();Object.assign(r,{validate:e,resetValidation:t}),O(()=>u.disable, i=>{i===!0?(typeof t=="function"&&t(),n.unbindComponent(r)):n.bindComponent(r)}),te(()=>{u.disable!==!0&&n.bindComponent(r)}),le(()=>{u.disable!==!0&&n.unbindComponent(r)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const he=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,be=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ye=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,X=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Y=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ie={date: e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time: e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime: e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime: e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email: e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor: e=>he.test(e),hexaColor: e=>be.test(e),hexOrHexaColor: e=>ye.test(e),rgbColor: e=>X.test(e),rgbaColor: e=>Y.test(e),rgbOrRgbaColor: e=>X.test(e)||Y.test(e),hexOrRgbColor: e=>he.test(e)||X.test(e),hexaOrRgbaColor: e=>be.test(e)||Y.test(e),anyColor: e=>ye.test(e)||X.test(e)||Y.test(e)},Ze=[!0,!1,"ondemand"],Ge={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator: e=>Ze.includes(e)}};function Xe(e, t){const{props:l,proxy:n}=N(),u=_(!1),r=_(null),i=_(!1);We({validate:h,resetValidation:A});let c=0,g;const S=d(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),C=d(()=>l.disable!==!0&&S.value===!0&&t.value===!1),R=d(()=>l.error===!0||u.value===!0),w=d(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:r.value);O(()=>l.modelValue,()=>{i.value=!0,C.value===!0&&l.lazyRules===!1&&z()});function q(){l.lazyRules!=="ondemand"&&C.value===!0&&i.value===!0&&z()}O(()=>l.reactiveRules, T=>{T===!0?g===void 0&&(g=O(()=>l.rules,q,{immediate:!0,deep:!0})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),O(()=>l.lazyRules,q),O(e, T=>{T===!0?i.value=!0:C.value===!0&&l.lazyRules!=="ondemand"&&z()});function A(){c++,t.value=!1,i.value=!1,u.value=!1,r.value=null,z.cancel()}function h(T=l.modelValue){if(l.disable===!0||S.value===!1)return!0;const a=++c,k=t.value!==!0?()=>{i.value=!0}:()=>{},$=(s, b)=>{s===!0&&k(),u.value=s,r.value=b||null,t.value=!1},V=[];for(let s=0; s<l.rules.length; s++){const b=l.rules[s];let F;if(typeof b=="function"?F=b(T,ie):typeof b=="string"&&ie[b]!==void 0&&(F=ie[b](T)),F===!1||typeof F=="string")return $(!0,F),!1;F!==!0&&F!==void 0&&V.push(F)}return V.length===0?($(!1),!0):(t.value=!0,Promise.all(V).then(s=>{if(s===void 0||Array.isArray(s)===!1||s.length===0)return a===c&&$(!1),!0;const b=s.find(F=>F===!1||typeof F=="string");return a===c&&$(b!==void 0,b),b===void 0}, s=>(a===c&&(console.error(s),$(!0)),!1)))}const z=Ee(h,0);return le(()=>{g!==void 0&&g(),z.cancel()}),Object.assign(n,{resetValidation:A,validate:h}),Fe(n,"hasError",()=>R.value),{isDirtyModel:i,hasRules:S,hasError:R,errorMessage:w,validate:h,resetValidation:A}}let se=[],Ye=[];function Je(e){Ye.length===0?e():se.push(e)}function et(e){se=se.filter(t=>t!==e)}function ce(e){return e!=null&&(""+e).length!==0}const tt={...Ve,...Ge,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},lt=["update:modelValue","clear","focus","blur"];function nt({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:n,proxy:u}=N(),r=Ae(n,u.$q),i=He({required:e,getValue:()=>n.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?d(()=>n.tag):{value:"label"},isDark:r,editable:d(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:_(!1),focused:_(!1),hasPopupOpen:!1,splitAttrs:Ke(),targetUid:i,rootRef:_(null),targetRef:_(null),controlRef:_(null)}}function ot(e){const{props:t,emit:l,slots:n,attrs:u,proxy:r}=N(),{$q:i}=r;let c=null;e.hasValue===void 0&&(e.hasValue=d(()=>ce(t.modelValue))),e.emitValue===void 0&&(e.emitValue= o=>{l("update:modelValue",o)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:y,onFocusout:x}),Object.assign(e,{clearValue:P,onControlFocusin:y,onControlFocusout:x,focus:b}),e.computedCounter===void 0&&(e.computedCounter=d(()=>{if(t.counter!==!1){const o=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,f=t.maxlength!==void 0?t.maxlength:t.maxValues;return o+(f!==void 0?" / "+f:"")}}));const{isDirtyModel:g,hasRules:S,hasError:C,errorMessage:R,resetValidation:w}=Xe(e.focused,e.innerLoading),q=e.floatingLabel!==void 0?d(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):d(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),A=d(()=>t.bottomSlots===!0||t.hint!==void 0||S.value===!0||t.counter===!0||t.error!==null),h=d(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),z=d(()=>`q-field row no-wrap items-start q-field--${h.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(q.value===!0?" q-field--float":"")+(a.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(C.value===!0?" q-field--error":"")+(C.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&A.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),T=d(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(C.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),a=d(()=>t.labelSlot===!0||t.label!==void 0),k=d(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&C.value!==!0?` text-${t.labelColor}`:"")),$=d(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:q.value,modelValue:t.modelValue,emitValue:e.emitValue})),V=d(()=>{const o={};return e.targetUid.value&&(o.for=e.targetUid.value),t.disable===!0&&(o["aria-disabled"]="true"),o});function s(){const o=document.activeElement;let f=e.targetRef!==void 0&&e.targetRef.value;f&&(o===null||o.id!==e.targetUid.value)&&(f.hasAttribute("tabindex")===!0||(f=f.querySelector("[tabindex]")),f&&f!==o&&f.focus({preventScroll:!0}))}function b(){Je(s)}function F(){et(s);const o=document.activeElement;o!==null&&e.rootRef.value.contains(o)&&o.blur()}function y(o){c!==null&&(clearTimeout(c),c=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",o))}function x(o, f){c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",o)),f!==void 0&&f())})}function P(o){de(o),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),Ie(()=>{const f=g.value;w(),g.value=f})}function p(o){[13,32].includes(o.keyCode)&&P(o)}function D(){const o=[];return n.prepend!==void 0&&o.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:H},n.prepend())),o.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},E())),C.value===!0&&t.noErrorIcon===!1&&o.push(U("error",[v(ve,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?o.push(U("inner-loading-append",n.loading!==void 0?n.loading():[v(qe,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&o.push(U("inner-clearable-append",[v(ve,{class:"q-field__focusable-action",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":i.lang.label.clear,onKeyup:p,onClick:P})])),n.append!==void 0&&o.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:H},n.append())),e.getInnerAppend!==void 0&&o.push(U("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&o.push(e.getControlChild()),o}function E(){const o=[];return t.prefix!==void 0&&t.prefix!==null&&o.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&o.push(e.getShadowControl()),e.getControl!==void 0?o.push(e.getControl()):n.rawControl!==void 0?o.push(n.rawControl()):n.control!==void 0&&o.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},n.control($.value))),a.value===!0&&o.push(v("div",{class:k.value},K(n.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&o.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),o.concat(K(n.default))}function ne(){let o,f;C.value===!0?R.value!==null?(o=[v("div",{role:"alert"},R.value)],f=`q--slot-error-${R.value}`):(o=K(n.error),f="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(o=[v("div",t.hint)],f=`q--slot-hint-${t.hint}`):(o=K(n.hint),f="q--slot-hint"));const M=t.counter===!0||n.counter!==void 0;if(t.hideBottomSpace===!0&&M===!1&&o===void 0)return;const Z=v("div",{key:f,class:"q-field__messages col"},o);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:H},[t.hideBottomSpace===!0?Z:v(we,{name:"q-transition--field-message"},()=>Z),M===!0?v("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function U(o, f){return f===null?null:v("div",{key:o,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},f)}let m=!1;return xe(()=>{m=!0}),Pe(()=>{m===!0&&t.autofocus===!0&&r.focus()}),t.autofocus===!0&&te(()=>{r.focus()}),le(()=>{c!==null&&clearTimeout(c)}),Object.assign(r,{focus:b,blur:F}),function(){const f=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...V.value}:V.value;return v(e.tag.value,{ref:e.rootRef,class:[z.value,u.class],style:u.style,...f},[n.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:H},n.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:T.value,tabindex:-1,...e.controlEvents},D()),A.value===!0?ne():null]),n.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:H},n.after()):null])}}const it={name:String};function rt(e){return d(()=>e.name||e.for)}function Q(e, t, l, n){const u=[];return e.forEach(r=>{n(r)===!0?u.push(r):t.push({failedPropValidation:l,file:r})}),u}function J(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),de(e)}const at={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},ut=["rejected"];function st({editable:e,dnd:t,getFileInput:l,addFilesToQueue:n}){const{props:u,emit:r,proxy:i}=N(),c=_(null),g=d(()=>u.accept!==void 0?u.accept.split(",").map(a=>(a=a.trim(),a==="*"?"*/":(a.endsWith("/*")&&(a=a.slice(0,a.length-1)),a.toUpperCase()))):null),S=d(()=>parseInt(u.maxFiles,10)),C=d(()=>parseInt(u.maxTotalSize,10));function R(a){if(e.value)if(a!==Object(a)&&(a={target:null}),a.target!==null&&a.target.matches('input[type="file"]')===!0)a.clientX===0&&a.clientY===0&&je(a);else{const k=l();k&&k!==a.target&&k.click(a)}}function w(a){e.value&&a&&n(null,a)}function q(a, k, $, V){let s=Array.from(k||a.target.files);const b=[],F=()=>{b.length!==0&&r("rejected",b)};if(u.accept!==void 0&&g.value.indexOf("*/")===-1&&(s=Q(s,b,"accept", y=>g.value.some(x=>y.type.toUpperCase().startsWith(x)||y.name.toUpperCase().endsWith(x))),s.length===0))return F();if(u.maxFileSize!==void 0){const y=parseInt(u.maxFileSize,10);if(s=Q(s,b,"max-file-size", x=>x.size<=y),s.length===0)return F()}if(u.multiple!==!0&&s.length!==0&&(s=[s[0]]),s.forEach(y=>{y.__key=y.webkitRelativePath+y.lastModified+y.name+y.size}),V===!0){const y=$.map(x=>x.__key);s=Q(s,b,"duplicate", x=>y.includes(x.__key)===!1)}if(s.length===0)return F();if(u.maxTotalSize!==void 0){let y=V===!0?$.reduce((x, P)=>x+P.size,0):0;if(s=Q(s,b,"max-total-size", x=>(y+=x.size,y<=C.value)),s.length===0)return F()}if(typeof u.filter=="function"){const y=u.filter(s);s=Q(s,b,"filter", x=>y.includes(x))}if(u.maxFiles!==void 0){let y=V===!0?$.length:0;if(s=Q(s,b,"max-files",()=>(y++,y<=S.value)),s.length===0)return F()}if(F(),s.length!==0)return s}function A(a){J(a),t.value!==!0&&(t.value=!0)}function h(a){de(a),(a.relatedTarget!==null||Ne.is.safari!==!0?a.relatedTarget!==c.value:document.elementsFromPoint(a.clientX,a.clientY).includes(c.value)===!1)===!0&&(t.value=!1)}function z(a){J(a);const k=a.dataTransfer.files;k.length!==0&&n(null,k),t.value=!1}function T(a){if(t.value===!0)return v("div",{ref:c,class:`q-${a}__dnd absolute-full`,onDragenter:J,onDragover:J,onDragleave:h,onDrop:z})}return Object.assign(i,{pickFiles:R,addFiles:w}),{pickFiles:R,addFiles:w,onDragover:A,onDragleave:h,processFiles:q,getDndNode:T,maxFilesNumber:S,maxTotalSizeNumber:C}}function ct(e, t){function l(){const n=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(n)===n&&("length"in n?Array.from(n):[n]).forEach(r=>{u.items.add(r)}),{files:u.files}}catch{return{files:void 0}}}return d(l)}const _e=["B","KB","MB","GB","TB","PB"];function dt(e, t=1){let l=0;for(; parseInt(e,10)>=1024&&l<_e.length-1;)e/=1024,++l;return`${e.toFixed(t)}${_e[l]}`}const ft=ke({name:"QFile",inheritAttrs:!1,props:{...tt,...it,...at,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...lt,...ut],setup(e, {slots:t,emit:l,attrs:n}){const{proxy:u}=N(),r=nt(),i=_(null),c=_(!1),g=rt(e),{pickFiles:S,onDragover:C,onDragleave:R,processFiles:w,getDndNode:q}=st({editable:r.editable,dnd:c,getFileInput:p,addFilesToQueue:D}),A=ct(e),h=d(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),z=d(()=>ce(h.value)),T=d(()=>h.value.map(m=>m.name).join(", ")),a=d(()=>dt(h.value.reduce((m, o)=>m+o.size,0))),k=d(()=>({totalSize:a.value,filesNumber:h.value.length,maxFiles:e.maxFiles})),$=d(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:g.value,...n,id:r.targetUid.value,disabled:r.editable.value!==!0})),V=d(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),s=d(()=>e.multiple===!0&&e.append===!0);function b(m){const o=h.value.slice();o.splice(m,1),y(o)}function F(m){const o=h.value.indexOf(m);o!==-1&&b(o)}function y(m){l("update:modelValue",e.multiple===!0?m:m[0])}function x(m){m.keyCode===13&&H(m)}function P(m){(m.keyCode===13||m.keyCode===32)&&S(m)}function p(){return i.value}function D(m, o){const f=w(m,o,h.value,s.value),M=p();M!=null&&(M.value=""),f!==void 0&&((e.multiple===!0?e.modelValue&&f.every(Z=>h.value.includes(Z)):e.modelValue===f[0])||y(s.value===!0?h.value.concat(f):f))}function E(){return[v("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ne(){if(t.file!==void 0)return h.value.length===0?E():h.value.map((o, f)=>t.file({index:f,file:o,ref:this}));if(t.selected!==void 0)return h.value.length===0?E():t.selected({files:h.value,ref:this});if(e.useChips===!0)return h.value.length===0?E():h.value.map((o, f)=>v($e,{key:"file-"+f,removable:r.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{b(f)}},()=>v("span",{class:"ellipsis",textContent:o.name})));const m=e.displayValue!==void 0?e.displayValue:T.value;return m.length!==0?[v("div",{class:e.inputClass,style:e.inputStyle,textContent:m})]:E()}function U(){const m={ref:i,...$.value,...A.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:D};return e.multiple===!0&&(m.multiple=!0),v("input",m)}return Object.assign(r,{fieldClass:V,emitValue:y,hasValue:z,inputRef:i,innerValue:h,floatingLabel:d(()=>z.value===!0||ce(e.displayValue)),computedCounter:d(()=>{if(e.counterLabel!==void 0)return e.counterLabel(k.value);const m=e.maxFiles;return`${h.value.length}${m!==void 0?" / "+m:""} (${a.value})`}),getControlChild:()=>q("file"),getControl:()=>{const m={ref:r.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return r.editable.value===!0&&Object.assign(m,{onDragover:C,onDragleave:R,onKeydown:x,onKeyup:P}),v("div",m,[U()].concat(ne()))}}),Object.assign(u,{removeAtIndex:b,removeFile:F,getNativeElement:()=>i.value}),Fe(u,"nativeEl",()=>i.value),ot(r)}}),vt={ratio:[String,Number]};function mt(e, t){return d(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}function Se(){let e=null;const t=N();function l(){e!==null&&(clearTimeout(e),e=null)}return xe(l),le(l),{removeTimeout:l,registerTimeout(n, u){l(),ee(t)===!1&&(e=setTimeout(()=>{e=null,n()},u))}}}const gt=1.7778,pt=ke({name:"QImg",props:{...vt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:gt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e, {slots:t,emit:l}){const n=_(e.initialRatio),u=mt(e,n),r=N(),{registerTimeout:i,removeTimeout:c}=Se(),{registerTimeout:g,removeTimeout:S}=Se(),C=d(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),R=d(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),w=[_(null),_(C.value)],q=_(0),A=_(!1),h=_(!1),z=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),T=d(()=>({width:e.width,height:e.height})),a=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),k=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function $(){if(S(),e.loadingShowDelay===0){A.value=!0;return}g(()=>{A.value=!0},e.loadingShowDelay)}function V(){S(),A.value=!1}function s({target:p}){ee(r)===!1&&(c(),n.value=p.naturalHeight===0?.5:p.naturalWidth/p.naturalHeight,b(p,1))}function b(p, D){D===1e3||ee(r)===!0||(p.complete===!0?F(p):i(()=>{b(p,D+1)},50))}function F(p){ee(r)!==!0&&(q.value=q.value^1,w[q.value].value=null,V(),p.getAttribute("__qerror")!=="true"&&(h.value=!1),l("load",p.currentSrc||p.src))}function y(p){c(),V(),h.value=!0,w[q.value].value=R.value,w[q.value^1].value=C.value,l("error",p)}function x(p){const D=w[p].value,E={key:"img_"+p,class:a.value,style:k.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...D};return q.value===p?Object.assign(E,{class:E.class+"current",onLoad:s,onError:y}):E.class+="loaded",v("div",{class:"q-img__container absolute-full",key:"img"+p},v("img",E))}function P(){return A.value===!1?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},K(t[h.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[v(qe,{color:e.spinnerColor,size:e.spinnerSize})])}{let p=function(){O(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null, D=>{c(),h.value=!1,D===null?(V(),w[q.value^1].value=C.value):$(),w[q.value].value=D},{immediate:!0})};Ce.value===!0?te(p):p()}return()=>{const p=[];return u.value!==null&&p.push(v("div",{key:"filler",style:u.value})),w[0].value!==null&&p.push(x(0)),w[1].value!==null&&p.push(x(1)),p.push(v(we,{name:"q-transition--fade"},P)),v("div",{key:"main",class:z.value,style:T.value,role:"img","aria-label":e.alt},p)}}}),ht={class:"bg-amber-500"},bt={class:"p-2"},yt={class:"q-pa-md"},_t=fe({__name:"FilePicker1",setup(e){const t=_([]),l=_([]),n= r=>{console.log("--onFFFF--files: ",r),r.map(i=>{const c=new FileReader;c.onload= g=>{var C,R;const S=(C=g==null?void 0:g.target)==null?void 0:C.result;console.log("--onload--imageUrl: ",S),S&&((R=l.value)==null||R.push(S))},c.readAsDataURL(i)})},u=async()=>{var r;console.log("--onUpload--files: ",t.value),(r=t.value)==null||r.forEach(i=>{const c=+new Date,g=i.name+c;console.log("--onUpload--f: ",c,i),console.log("--onUplsdf: ",i.name+c),Ue(i,g, S=>{console.log("--url: ",S)})})};return(r, i)=>(j(),L("div",ht,[i[1]||(i[1]=I("div",{class:"flex justify-center align-middle"},[I("h4",null,"----piker1----")],-1)),I("div",bt,[I("div",yt,[W(ft,{"onUpdate:modelValue":[n,i[0]||(i[0]= c=>t.value=c)],modelValue:t.value,label:"Pick files",outlined:"","use-chips":"",multiple:"",style:{"max-width":"300px"}},null,8,["modelValue"])]),W(Be,{onClick:Re(u,["prevent","stop"]),color:"secondary","icon-right":"mail",label:"onUpload"}),(j(!0),L(re,null,ae(l.value,(c, g)=>(j(),Oe(pt,{key:g,src:c},null,8,["src"]))),128))])]))}}),St={class:"bg-amber-400"},Ct={class:"p-2"},Ft=["src"],xt=fe({__name:"FilePicker2",setup(e){const t=_(null),l=_([]),n=_([]),u=()=>{var i;(i=t==null?void 0:t.value)==null||i.click()},r= i=>{console.log("--addImage--e.target: ",i.target);const c=i.target;if(c.files){console.log(c.files);const g=Array.from(c.files);l.value=g;let S=[];for(let C=0; C<g.length; C++)S.push(URL.createObjectURL(g[C]));n.value=S,console.log("--arrPath-- : ",n.value)}};return(i, c)=>(j(),L("div",St,[c[0]||(c[0]=I("div",{class:"flex justify-center align-middle"},[I("h4",null,"----piker2----")],-1)),I("div",Ct,[I("input",{type:"file",ref_key:"fileInput",ref:t,style:{display:"none"},onChange:r,multiple:""},null,544),W(Be,{onClick:Re(u,["prevent","stop"]),color:"secondary",label:"픽커 열기"}),(j(!0),L(re,null,ae(l.value,(g, S)=>(j(),L("p",{key:S},Le(g.name),1))),128)),(j(!0),L(re,null,ae(n.value,(g, S)=>(j(),L("img",{key:S,src:g},null,8,Ft))),128))])]))}}),qt={class:"bg-amber-300"},wt={class:"p-20"},Vt=fe({__name:"FilePicker",setup(e){return(t, l)=>(j(),L("div",qt,[l[0]||(l[0]=I("div",{class:"flex justify-center align-middle"},[I("h2",null,"Filepicker")],-1)),I("div",wt,[W(_t),W(xt)])]))}});export{Vt as default};
