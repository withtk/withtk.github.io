import{r as v,j as l}from"./index-DdEHihTL.js";const c=8,u=0,i=1,p=2,W=()=>{const[j,w]=v.useState([]),[h,y]=v.useState(i),[M,A]=v.useState([]),[C,E]=v.useState(!1),[k,B]=v.useState({black:2,white:2});v.useEffect(()=>{const e=Array(c).fill().map(()=>Array(c).fill(u));e[3][3]=p,e[3][4]=i,e[4][3]=i,e[4][4]=p,w(e),b(e,i)},[]);const N=(e,r,s,n)=>e[r][s]!==u?!1:[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].some(([f,x])=>{let t=r+f,a=s+x,d=!1;for(;t>=0&&t<c&&a>=0&&a<c;){if(e[t][a]===u)return!1;if(e[t][a]===n)return d;d=!0,t+=f,a+=x}return!1}),b=(e,r)=>{const s=[];for(let n=0;n<c;n++)for(let o=0;o<c;o++)N(e,n,o,r)&&s.push([n,o]);A(s)},O=(e,r)=>{if(!N(j,e,r,h))return;const s=j.map(t=>[...t]);s[e][r]=h,[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach(([t,a])=>{let d=e+t,m=r+a,S=[];for(;d>=0&&d<c&&m>=0&&m<c&&s[d][m]!==u;){if(s[d][m]===h){S.forEach(([g,G])=>{s[g][G]=h});break}S.push([d,m]),d+=t,m+=a}}),w(s);const o=h===i?p:i;y(o),b(s,o);const f={black:0,white:0};s.forEach(t=>{t.forEach(a=>{a===i&&f.black++,a===p&&f.white++})}),B(f);const x=[];for(let t=0;t<c;t++)for(let a=0;a<c;a++)N(s,t,a,o)&&x.push([t,a]);x.length===0&&E(!0)},P=()=>{const e=Array(c).fill().map(()=>Array(c).fill(u));e[3][3]=p,e[3][4]=i,e[4][3]=i,e[4][4]=p,w(e),y(i),E(!1),B({black:2,white:2}),b(e,i)};return l.jsxs("div",{className:"reversi-container",children:[l.jsxs("div",{className:"game-info",children:[l.jsxs("div",{className:"score",children:[l.jsxs("div",{className:"player black",children:["Black: ",k.black]}),l.jsxs("div",{className:"player white",children:["White: ",k.white]})]}),l.jsxs("div",{className:"current-player",children:["Current Player: ",h===i?"Black":"White"]}),C&&l.jsxs("div",{className:"game-over",children:["Game Over! ",k.black>k.white?"Black":"White"," wins!",l.jsx("button",{onClick:P,children:"New Game"})]})]}),l.jsx("div",{className:"board",children:j.map((e,r)=>l.jsx("div",{className:"row",children:e.map((s,n)=>l.jsx("div",{className:`cell ${M.some(([o,f])=>o===r&&f===n)?"valid-move":""}`,onClick:()=>O(r,n),children:s!==u&&l.jsx("div",{className:`piece ${s===i?"black":"white"}`})},`${r}-${n}`))},r))})]})};export{W as default};
